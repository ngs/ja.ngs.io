<!DOCTYPE html>
<html ⚡ itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <title>Hubot に日の出・日の入時刻と月の満ち欠けを計算させる</title>
    <link itemprop="mainEntityOfPage" rel="canonical" href="https://ja.ngs.io/2014/08/12/hubot-suncalc/">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp-custom>
      body {
        background-color: white;
        color: #404040;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        font-size: 14px;
      }
      amp-img {
        background-color: gray;
      }

      .container {
        padding: 0 8px;
      }

      @media (min-width: 480px) {
        .container {
          padding: 0 16px;
        }
      }

    </style>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>
    <article class="container">
      <h1 itemprop="headline">Hubot に日の出・日の入時刻と月の満ち欠けを計算させる</h1>
      <h2 itemprop="author" itemscope itemtype="https://schema.org/Person">
        <span itemprop="name">長瀬 敦史</span>
      </h2>
      <time itemprop="datePublished" datetime="2014-08-12T12:05:00">2014-08-12 21:05</time>
      <meta itemprop="description" content="suncalc というライブラリがすばらしかったので、それを使って、日の出・日の入時刻と月の満ち欠けを計算させる Hubot スクリプトを作成しました。"></meta>
      <div class="hidden article-metadata"><meta content="suncalc というライブラリがすばらしかったので、それを使って、日の出・日の入時刻と月の満ち欠けを計算させる Hubot スクリプトを作成しました。" itemprop="headline" /><div itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><meta content="https://ja.ngs.io/images/2014-08-12-hubot-suncalc/screen.gif" itemprop="url" /><meta content="921" itemprop="width" /><meta content="532" itemprop="height" /></div><div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta content="Atsushi Nagase" itemprop="name" /><div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject"><meta content="https://ja.ngs.io/images/amp-logo.png" itemprop="url" /><meta content="600" itemprop="width" /><meta content="60" itemprop="height" /></div></div><meta content="2014-08-12T12:05:00" itemprop="dateModified" /></div>
      

<p><a href="https://github.com/mourner/suncalc">suncalc</a> という JavaScript ライブラリがすばらしかったので、それを使って、日の出・日の入時刻と月の満ち欠けを計算させる <a href="https://hubot.github.com/">Hubot</a> スクリプトを作成しました。</p>

<p><strong><a href="https://github.com/ngs/hubot-suncalc">ngs/hubot-suncalc</a></strong></p>
<div class="highlight"><pre class="highlight shell"><code>npm install <span class="nt">--save</span> hubot-suncalc</code></pre></div>


<p>以下の様なコマンドで、住所から場所を検索して、日の出入時間を調べます。</p>
<div class="highlight"><pre class="highlight plaintext"><code>me &gt; hubot sunrise Tokyo
hubot &gt; Sunrise in Tokyo, Japan is 04:58 AM
me &gt; hubot sunset Tokyo
hubot &gt; Sunset in Tokyo, Japan is 06:36 PM</code></pre></div>
<p>複数候補が存在する場合、候補の先頭の連番を Hubot に返答します。</p>
<div class="highlight"><pre class="highlight plaintext"><code>me &gt; hubot sunrise ginza
hubot &gt; Found 12 locations for "ginza".
        Answer leading index number:
        1. Ginza, Chūō, Tokyo, Japan
        2. Ginza, Kumagaya, Saitama Prefecture, Japan
        3. Ginza, Honjo, Saitama Prefecture, Japan
        4. Ginza, Shimizu Ward, Shizuoka, Shizuoka Prefecture, Japan
        5. Ginza, Shunan, Yamaguchi Prefecture, Japan
        6. Ginza, Okaya, Nagano Prefecture, Japan
        7. Ginza, Tobata Ward, Kitakyushu, Fukuoka Prefecture, Japan
        8. Ginza, Iida, Nagano Prefecture, Japan
        9. Ginza, Kariya, Aichi Prefecture, Japan
        10. Ginza, Tokushima, Tokushima Prefecture, Japan
        11. Ginza, Kanuma, Tochigi Prefecture, Japan
        12. Ginza, Angola
me &gt; 7
hubot &gt; Sunrise in Ginza, Tobata Ward, Kitakyushu, Fukuoka Prefecture, Japan is 05:37 AM</code></pre></div>
<p>月の満ち欠けには、住所の指定は必要ありません。</p>
<div class="highlight"><pre class="highlight plaintext"><code>hubot moonphase</code></pre></div>
    </article>
  </body>
</html>
